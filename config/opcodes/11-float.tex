
%===============================================================================
\section{Floating-point instructions}
%===============================================================================
\class{FPU}
\datapath{gpRegWE}{'1'}
\datapath{isNOP}{'0'}
\datapath{enableALU}{'0'}
\datapath{enableMem}{'0'}

%-------------------------------------------------------------------------------
\syllable{10010111-}{ADDF}{\rd = \rx, \ry}
\datapath{funcSel}{FADD}
\datapath{enableFAdd}{'1'}
\fpu{isFAddInstruction}{'1'}
\fpu{addOp}{ADD}
Performs a single-precision floating-point addition.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = \rx + \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011000-}{SUBF}{\rd = \rx, \ry}
\datapath{funcSel}{FADD}
\datapath{enableFAdd}{'1'}
\fpu{isFAddInstruction}{'1'}
\fpu{addOp}{SUBTRACT}
Performs a single-precision floating-point subtraction.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = \rx - \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011001-}{MPYF}{\rd = \rx, \ry}
\datapath{funcSel}{FMUL}
\datapath{enableFMul}{'1'}
\fpu{isFMulInstruction}{'1'}
Performs a single-precision floating-point multiplication.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = \rx * \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011010-}{CMPGEF}{\rd = \rx, \ry}
\datapath{gpRegWE}{'1'}
\datapath{funcSel}{FCMP}
\datapath{enableFCmp}{'1'}
\fpu{isFCompareInstruction}{'1'}
\fpu{cmpOp}{GE}
Single-precision floating-point compare. Determines whether the first operand is greater than or equal to the second operand and stores
the result in an integer register.
% Compare less than is implemented with this opcode with the operands swapped.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = \rx >= \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011011-}{CMPGEF}{\bd = \rx, \ry}
\datapath{brRegWE}{'1'}
\datapath{funcSel}{FCMP}
\datapath{enableFCmp}{'1'}
\fpu{isFCompareInstruction}{'1'}
\fpu{cmpOp}{GE}
Single-precision floating-point compare. Determines whether the first operand is greater than or equal to the second operand and stores
the result in a branch register.
% Compare less than is implemented with this opcode with the operands swapped.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\bd = \rx >= \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
%\syllable{10011010-}{CMPLTF}{\rd = \rx, \ry}
%\datapath{gpRegWE}{'1'}
%\datapath{funcSel}{FCMP}
%\datapath{enableFCmp}{'1'}
%\fpu{isFCompareInstruction}{'1'}
%\fpu{cmpOp}{GE}
%Single-precision floating-point compare. Determines whether the first operand is less than the second operand and stores
%the result in an integer register.
%
%\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
%\rd = \rx < \ry;
%\end{lstlisting}

%-------------------------------------------------------------------------------
%\syllable{10011011-}{CMPLTF}{\bd = \rx, \ry}
%\datapath{brRegWE}{'1'}
%\datapath{funcSel}{FCMP}
%\datapath{enableFCmp}{'1'}
%\fpu{isFCompareInstruction}{'1'}
%\fpu{cmpOp}{GE}
%Single-precision floating-point compare. Determines whether the first operand is less than the second operand and stores
%the result in a branch register.
%
%\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
%\bd = \rx < \ry;
%\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011100-}{CMPEQF}{\rd = \rx, \ry}
\datapath{gpRegWE}{'1'}
\datapath{funcSel}{FCMP}
\datapath{enableFCmp}{'1'}
\fpu{isFCompareInstruction}{'1'}
\fpu{cmpOp}{EQ}
Single-precision floating-point compare. Determines whether the first operand is equal to the second operand and stores
the result in an integer register.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = \rx == \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011101-}{CMPEQF}{\bd = \rx, \ry}
\datapath{brRegWE}{'1'}
\datapath{funcSel}{FCMP}
\datapath{enableFCmp}{'1'}
\fpu{isFCompareInstruction}{'1'}
\fpu{cmpOp}{EQ}
Single-precision floating-point compare. Determines whether the first operand is equal to the second operand and stores
the result in a branch register.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\bd = \rx == \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011110-}{CMPGTF}{\rd = \rx, \ry}
\datapath{gpRegWE}{'1'}
\datapath{funcSel}{FCMP}
\datapath{enableFCmp}{'1'}
\fpu{isFCompareInstruction}{'1'}
\fpu{cmpOp}{GT}
Single-precision floating-point compare. Determines whether the first operand is greater than the second operand and stores
the result in an integer register.
% Compare less than or equal to is implemented with this opcode with the operands swapped.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = \rx > \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10011111-}{CMPGTF}{\bd = \rx, \ry}
\datapath{brRegWE}{'1'}
\datapath{funcSel}{FCMP}
\datapath{enableFCmp}{'1'}
\fpu{isFCompareInstruction}{'1'}
\fpu{cmpOp}{GT}
Single-precision floating-point compare. Determines whether the first operand is greater than the second operand and stores
the result in a branch register.
% Compare less than or equal to is implemented with this opcode with the operands swapped.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\bd = \rx > \ry;
\end{lstlisting}

%-------------------------------------------------------------------------------
%\syllable{10011110-}{CMPLEF}{\rd = \rx, \ry}
%\datapath{gpRegWE}{'1'}
%\datapath{funcSel}{FCMP}
%\datapath{enableFCmp}{'1'}
%\fpu{isFCompareInstruction}{'1'}
%\fpu{cmpOp}{GT}
%Single-precision floating-point compare. Determines whether the first operand is less than or equal to the second operand and stores
%the result in an integer register.
%
%\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
%\rd = \rx <= \ry;
%\end{lstlisting}

%-------------------------------------------------------------------------------
%\syllable{10011111-}{CMPLEF}{\bd = \rx, \ry}
%\datapath{brRegWE}{'1'}
%\datapath{funcSel}{FCMP}
%\datapath{enableFCmp}{'1'}
%\fpu{isFCompareInstruction}{'1'}
%\fpu{cmpOp}{GT}
%Single-precision floating-point compare. Determines whether the first operand is less than or equal to the second operand and stores
%the result in a branch register.
%
%\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
%\bd = \rx <= \ry;
%\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10010101-}{CONVIF}{\rd = \rx}
\datapath{funcSel}{FCIF}
\datapath{enableFCif}{'1'}
\fpu{isFConvifInstruction}{'1'}
\fpu{unsignedOp}{'0'}
Converts a signed integer to a single-precision floating-point number.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = (float) \rx;
\end{lstlisting}

%-------------------------------------------------------------------------------
\syllable{10010110-}{CONVFI}{\rd = \rx}
\datapath{funcSel}{FCFI}
\datapath{enableFCfi}{'1'}
\fpu{isFConvfiInstruction}{'1'}
\fpu{unsignedOp}{'0'}
Converts a single-precision floating-point number to a signed integer.

\begin{lstlisting}[numbers=none, basicstyle=\ttfamily\footnotesize, language=C++]
\rd = (int) \rx;
\end{lstlisting}
